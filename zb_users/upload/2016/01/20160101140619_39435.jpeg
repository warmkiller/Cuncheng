<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
<title>腾讯视频</title>
<script language="javascript">
try{
	document.domain="qq.com";
}catch(e){}
</script>
<meta http-equiv="expires" content="0">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" />




<link rel="stylesheet" type="text/css" href="https://imgcache.qq.com/tencentvideo_v1/vstyle/mobile/v2/style/player.css?v=20150428&max_age=2592000" />
<script language="javascript" src="https://imgcache.qq.com/tencentvideo_v1/tvp/js/tvp.player_v2_mobile.js?v=20150929&max_age=2592000" charset="utf-8"></script>
<style>
	#mod_player div, #mod_player, body, html {height: 100%;width:100%}
	html {overflow: hidden;}
</style>
</head>
<body>
<div id="mod_player"></div>
<script language="javascript">

(function(){

var topUrl;
try{
	topUrl = top.location.hostname;
}catch(e){}
if (window===top || !topUrl || topUrl!=='mp.weixin.qq.com') {
	//return;
}

var data = {
	"vid": "",
	"auto":"0",
	"ref":"",
	"width": "100%",
	"height": "100%"
};
tvp.$.each(data, function(k) {
	var v = tvp.$.getUrlParam(k);
	if (v != "") {
		data[k] = decodeURIComponent(v);
		data[k] = tvp.$.filterXSS(data[k]);
	}
});
if(!data.vid){
	document.write('没有找到vid参数!');
	return;
}

var video = new tvp.VideoInfo();
var player = window.__player = new tvp.Player();
var opt = {
	width: '100%',
  height: '100%',
  video: video,
  modId: "mod_player",
  isHtml5UseUI:true,
  autoplay: data.auto==="0"?0:1,
  isHtml5UseFakeFullScreen: !tvp.$.os.ios,
  isiPhoneShowPlaysinline : tvp.$.browser.WeChat,
  flashWmode: 'transparent',
  vodFlashSkin: "http://imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf",
  vodFlashExtVars: {
    clientbar:0,
    searchpanel:0,
    showend:0
  }
}
video.setVid(data.vid);
player.create(opt);

})();
</script>
</body>
</html>
